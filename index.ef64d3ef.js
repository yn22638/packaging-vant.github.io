import{e,g as t,i as a,j as s,k as r,l,b as o,q as n,n as c,m as u,s as i,t as d,v as p,x as v,h as x,_ as m,y as f,z as k,A as h,C as y,o as $,c as b,w as g,D as w,a as j,d as R,E as W,F}from"./index.2e0a53a2.js";import{S as M}from"./index.52bce74d.js";import{B as S}from"./index.9ee4f85c.js";const[z,C]=e("circle");let D=0;const _=e=>Math.min(Math.max(+e,0),100);const I=x(t({name:z,props:{text:String,size:c,fill:u("none"),rate:i(100),speed:i(0),color:[String,Object],clockwise:d,layerColor:String,currentRate:p(0),strokeWidth:i(40),strokeLinecap:String,startPosition:u("top")},emits:["update:currentRate"],setup(e,{emit:t,slots:c}){const u="van-circle-"+D++,i=a((()=>+e.strokeWidth+1e3)),d=a((()=>function(e,t){const a=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${a} 0, 1000 a 500, 500 0 1, ${a} 0, -1000`}(e.clockwise,i.value))),p=a((()=>{const t={top:0,right:90,bottom:180,left:270}[e.startPosition];if(t)return{transform:`rotate(${t}deg)`}}));s((()=>e.rate),(a=>{let s;const o=Date.now(),n=e.currentRate,c=_(a),u=Math.abs(1e3*(n-c)/+e.speed),i=()=>{const e=Date.now(),a=Math.min((e-o)/u,1)*(c-n)+n;t("update:currentRate",_(parseFloat(a.toFixed(1)))),(c>n?a<c:a>c)&&(s=l(i))};e.speed?(s&&r(s),s=l(i)):t("update:currentRate",c)}),{immediate:!0});const x=()=>{const{strokeWidth:t,currentRate:a,strokeLinecap:s}=e,r=3140*a/100,l=v(e.color)?`url(#${u})`:e.color,n={stroke:l,strokeWidth:+t+1+"px",strokeLinecap:s,strokeDasharray:`${r}px 3140px`};return o("path",{d:d.value,style:n,class:C("hover"),stroke:l},null)},m=()=>{const t={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return o("path",{class:C("layer"),style:t,d:d.value},null)},f=()=>{const{color:t}=e;if(!v(t))return;const a=Object.keys(t).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((e,a)=>o("stop",{key:a,offset:e,"stop-color":t[e]},null)));return o("defs",null,[o("linearGradient",{id:u,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[a])])};return()=>o("div",{class:C(),style:n(e.size)},[o("svg",{viewBox:`0 0 ${i.value} ${i.value}`,style:p.value},[f(),m(),x()]),c.default?c.default():e.text?o("div",{class:C("text")},[e.text]):void 0])}}));const L=e=>(W("data-v-e0828154"),e=e(),F(),e),U={class:""},V=R(" 返回 "),B=L((()=>j("div",{class:"empty-box"},null,-1))),O=L((()=>j("div",{class:"empty-box"},null,-1))),P=L((()=>j("div",{class:"empty-box"},null,-1))),q={class:"slider-box"};var A=m(t({setup(e){f();const t=k(),a=h(0),r=h(100),l=h(0),n=h(0),c=h(0),u={"0%":"#3fecff","100%":"#6149f6"};return y((()=>{const e=setInterval((()=>{100===n.value?clearInterval(e):n.value++&&c.value++}),1e3)})),s((()=>c.value),((e,t)=>{}),{deep:!0}),(e,s)=>{const i=S,d=I,p=M;return $(),b("div",U,[o(i,{type:"danger",onClick:s[0]||(s[0]=e=>w(t).go(-1))},{default:g((()=>[V])),_:1}),B,o(d,{"current-rate":a.value,"onUpdate:current-rate":s[1]||(s[1]=e=>a.value=e),rate:r.value,speed:50,"stroke-width":60,color:u,text:`${a.value}%`},null,8,["current-rate","rate","text"]),O,o(d,{"current-rate":l.value,"onUpdate:current-rate":s[2]||(s[2]=e=>l.value=e),rate:n.value,"stroke-width":60,size:140,color:u,text:`${l.value}%`},null,8,["current-rate","rate","text"]),P,j("div",q,[o(p,{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=e=>c.value=e),disabled:""},null,8,["modelValue"])])])}}}),[["__scopeId","data-v-e0828154"]]);export{A as default};
