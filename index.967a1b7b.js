import{g as e,n as t,m as a,k as s,t as r,l,d as o,q as n,s as c,v as u,x as i,e as d,y as p,z as v,j as x,_ as m,A as f,C as k,r as h,o as y,a as $,c as b,D as g,w,b as j,E as R,F as W,f as F}from"./index.3a3ccf96.js";import{S as M}from"./index.d99d2aa2.js";import{B as S}from"./index.8e946019.js";const[z,C]=e("circle");let D=0;const _=e=>Math.min(Math.max(+e,0),100);const I=x(o({name:z,props:{text:String,size:t,fill:a("none"),rate:s(100),speed:s(0),color:[String,Object],clockwise:r,layerColor:String,currentRate:l(0),strokeWidth:s(40),strokeLinecap:String,startPosition:a("top")},emits:["update:currentRate"],setup(e,{emit:t,slots:a}){const s="van-circle-"+D++,r=n((()=>+e.strokeWidth+1e3)),l=n((()=>function(e,t){const a=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${a} 0, 1000 a 500, 500 0 1, ${a} 0, -1000`}(e.clockwise,r.value))),o=n((()=>{const t={top:0,right:90,bottom:180,left:270}[e.startPosition];if(t)return{transform:`rotate(${t}deg)`}}));c((()=>e.rate),(a=>{let s;const r=Date.now(),l=e.currentRate,o=_(a),n=Math.abs(1e3*(l-o)/+e.speed),c=()=>{const e=Date.now(),a=Math.min((e-r)/n,1)*(o-l)+l;t("update:currentRate",_(parseFloat(a.toFixed(1)))),(o>l?a<o:a>o)&&(s=i(c))};e.speed?(s&&u(s),s=i(c)):t("update:currentRate",o)}),{immediate:!0});const x=()=>{const{strokeWidth:t,currentRate:a,strokeLinecap:r}=e,o=3140*a/100,n=v(e.color)?`url(#${s})`:e.color,c={stroke:n,strokeWidth:+t+1+"px",strokeLinecap:r,strokeDasharray:`${o}px 3140px`};return d("path",{d:l.value,style:c,class:C("hover"),stroke:n},null)},m=()=>{const t={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return d("path",{class:C("layer"),style:t,d:l.value},null)},f=()=>{const{color:t}=e;if(!v(t))return;const a=Object.keys(t).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((e,a)=>d("stop",{key:a,offset:e,"stop-color":t[e]},null)));return d("defs",null,[d("linearGradient",{id:s,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[a])])};return()=>d("div",{class:C(),style:p(e.size)},[d("svg",{viewBox:`0 0 ${r.value} ${r.value}`,style:o.value},[f(),m(),x()]),a.default?a.default():e.text?d("div",{class:C("text")},[e.text]):void 0])}}));const L=e=>(R("data-v-e0828154"),e=e(),W(),e),U={class:""},V=F(" 返回 "),B=L((()=>j("div",{class:"empty-box"},null,-1))),O=L((()=>j("div",{class:"empty-box"},null,-1))),P=L((()=>j("div",{class:"empty-box"},null,-1))),q={class:"slider-box"};var A=m(o({setup(e){f();const t=k(),a=h(0),s=h(100),r=h(0),l=h(0),o=h(0),n={"0%":"#3fecff","100%":"#6149f6"};return y((()=>{const e=setInterval((()=>{100===l.value?clearInterval(e):l.value++&&o.value++}),1e3)})),c((()=>o.value),((e,t)=>{}),{deep:!0}),(e,c)=>{const u=S,i=I,p=M;return $(),b("div",U,[d(u,{type:"danger",onClick:c[0]||(c[0]=e=>g(t).go(-1))},{default:w((()=>[V])),_:1}),B,d(i,{"current-rate":a.value,"onUpdate:current-rate":c[1]||(c[1]=e=>a.value=e),rate:s.value,speed:50,"stroke-width":60,color:n,text:`${a.value}%`},null,8,["current-rate","rate","text"]),O,d(i,{"current-rate":r.value,"onUpdate:current-rate":c[2]||(c[2]=e=>r.value=e),rate:l.value,"stroke-width":60,size:140,color:n,text:`${r.value}%`},null,8,["current-rate","rate","text"]),P,j("div",q,[d(p,{modelValue:o.value,"onUpdate:modelValue":c[3]||(c[3]=e=>o.value=e),disabled:""},null,8,["modelValue"])])])}}}),[["__scopeId","data-v-e0828154"]]);export{A as default};
