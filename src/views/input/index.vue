<template>
  <div class="min-h-full input__demo">
    <div class="px-16px pt-24px">
      <p class="font-bold  text-18px input__title">m-input</p>
      <p class="pt-12px pb-16px text-13px leading-20px input__introduce ">ä»‹ç»ï¼šé€šè¿‡inputåŸç”Ÿå±æ€§ä¸äº‹ä»¶ï¼Œé’ˆå¯¹äºå±•ç¤ºæ•ˆæœï¼Œå­—ä½“é¢œè‰²ï¼Œæ ·å¼ç­‰è¿›ä¸€æ­¥å°è£…
      </p>
    </div>
    <van-collapse v-model="activeNames" accordion @change="onClickChange">
      <van-collapse-item title="é»˜è®¤æ ·å¼" name="1">
        <m-input v-model="defaultValue" :is-show-text-length="false"></m-input>
        <van-button type="primary" size="mini" @click="onConfirmBtnClick(defaultValue)">æäº¤</van-button>
      </van-collapse-item>
      <van-collapse-item title="ç»Ÿè®¡è¾“å…¥å­—æ•°/æœ€å¤§è¾“å…¥å­—æ•°" name="2">
        <m-input v-model="maxLengthValue"></m-input>
        <van-button type="primary" size="mini" @click="onConfirmBtnClick(maxLengthValue)">æäº¤</van-button>
      </van-collapse-item>
      <van-collapse-item title="åªè¯»/ç¦ç”¨çŠ¶æ€" name="3">
        <p class="pb-12px">é€šè¿‡ readonly å°†è¾“å…¥æ¡†è®¾ç½®ä¸ºåªè¯»çŠ¶æ€ï¼Œé€šè¿‡ disabled å°†è¾“å…¥æ¡†è®¾ç½®ä¸ºç¦ç”¨çŠ¶æ€ã€‚</p>
        <m-input v-model="disabledValue" disabled></m-input>
        <van-button type="primary" size="mini" @click="onConfirmBtnClick(disabledValue)">æäº¤</van-button>
      </van-collapse-item>
      <van-collapse-item title="å±•ç¤º label" name="4">
        <p class="pb-12px">é€šè¿‡ label æ ‡ç­¾ï¼Œå°†ä¼ å…¥çš„å€¼æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
        <m-input v-model="labelValue" label="æˆ‘æ˜¯ label" isShowLabel></m-input>
        <van-button type="primary" size="mini" @click="onConfirmBtnClick(labelValue)">æäº¤</van-button>
      </van-collapse-item>
    </van-collapse>
  </div>
</template>

<script setup lang="ts">
import MInput from "@/components/m-input/index.vue";
const activeNames = ref('1')
const defaultValue = ref('')
const maxLengthValue = ref('')
const disabledValue = ref('ä½ å¥½å•Šï¼ŒğŸ» å¼Ÿ')
const labelValue = ref('')

// collapse click
const onClickChange = (index: number) => {
  activeNames.value = `${index}`
}

const onConfirmBtnClick = (value: string) => {
  Toast(`å½“å‰è¾“å…¥æ¡†çš„å€¼æ˜¯ï¼š${value}`)
}
// watch(defaultValue, () => {
//   console.log(defaultValue.value);
// })
</script>

<style lang="less" scoped>
.input {
  &__demo {
    background-color: #f7f8fa;
  }

  &__title {
    color: #323233;
  }

  &__introduce {
    color: #c8c9cc;
  }
}
</style>

